# A preliminary overview of the application structure

## Models
- **Track**:
    - *attributes*
        - name : *String*
        - artist : *String*
        - duration : *Int (in seconds)*
        - file_format : *String*
        - sample_rate : *Float (in kHz)*
        - bits_per_sample : *Int*
        - genre : *String*
        - publisher : *String*
        - carrier_type : *String (? unknown meaning)*
        - year : *Int*
    - *methods*:
        - add_track : *@classmethod*
        - edit_track
        - remove_track
        - get_most_wished_tracks : *@classmethod*
        - get_reproduction_count
- **User**:
    - *attributes*:
        - first_name : *String*
        - last_name : *String*
        - occupation : *String*
        - email : *String*
        - password_hash : *String*
        - account_type : *Int (enumeration, 1 to 4)*
        - active : *Bool*
        - activation_code : *String*
    - *variants*:
        - **Owner**:
            - Can choose Administrators, to a maximum of 10
        - **Administrator**:
            - Can add and edit Tracks
            - Can choose Editors
        - **Editor**
        - **RegisteredUser**
    - *methods*:
        - add_track (Administrators only)
        - add_track_to_tracklist : (Editors)
        - add_track_to_wishlist : (RegisteredUsers)
        - assign_timeslot : (Administrators)
        - authenticate_user : *@classmethod*
        - count_administrators : (Owner)
        - count_active_users : (Administrators, Owner)
        - count_active_administrators : (Administrators, Owner)
        - create_user : *@classmethod* (Owners cannot be created)
        - delete_account
        - edit_account_data
        - edit_track : (Administrators)
        - generate_password
        - get_editors : (Administrators)
        - get_most_wished_tracks : (Administrators)
        - get_most_popular_track_freq : (Administrators)
        - get_track_reproduction_count : (Administrators)
        - get_wishlist : (Editors)
        - make_administrator : (Owner)
        - make_editor : (Administrators)
        - remove_track : (Administrators)
        - unmake_administrator : (Owner)
        - unmake_editor : (Administrators)
- **EditorTimes**:
    - *attributes*:
        - editor : *User*
        - time_slot_start : *Time*
    - *methods*:
        - add_editor_slot : *@classmethod*
        - change_editor_slot (?)
        - remove_editor_slot (?)
- **TrackList**:    A playlist of all tracks (TODO: think this through, what if track changed, update all?)
    - *attributes*:
        - track : *Track*
        - editor : *User*
        - start_time : *Time*
        - play_duration : *Int (in seconds)*
    - *methods*:
        - add_to_tracklist : *@classmethod*
        - remove_from_tracklist
        - get_tracklist : *@classmethod*
        - get_next_track : *@classmethod*
- **Wishes**:
    - *attributes*:
        - track : *Track*
        - wish_time : *DateTime*
        - user : *User*
    - *methods*:
        - add_to_wishlist : *@classmethod*
        - get_current_wishlist : *@classmethod*

## Notes
- Radio station data to be stored into flask config object
- Registration requires sending an activation code via email, confirmation by link, then sending a password again by mail
- Each RegisteredUser can select at most 10 tracks for his wishlist
- Display currently playing track

## Questions
- What is a carrier_type?
- Can registration procedure be changed to something better?
- What about the 24-hour track list constraint? If it fails?
- Wish list changes - clarify
- Occupation?

## Views
- **index**:
    - Currently playing track and it's data
    - Login and signup forms
- **settings**:
    - Account settings:
        - Change name, occupation
        - Change password
        - Delete account
    - Administrator settings
    - Owner settings
- **track_management**:
    - Administrators only
    - View all tracks
    - Add track
    - Edit track
    - Delete Track
- **wishlists**:
- **editorlist:
